(this["webpackJsonpreact-google-maps"]=this["webpackJsonpreact-google-maps"]||[]).push([[0],{32:function(e,t,n){},49:function(e){e.exports=JSON.parse('[{"business_status":"OPERATIONAL","geometry":{"location":{"lat":-1.278375,"lng":36.8163346},"viewport":{"northeast":{"lat":-1.277140869708498,"lng":36.8176371802915},"southwest":{"lat":-1.279838830291502,"lng":36.8149392197085}}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png","name":"Hotel Fairmont The Norfolk","opening_hours":{"open_now":true},"photos":[{"height":2002,"html_attributions":["<a href=\\"https://maps.google.com/maps/contrib/112710268148963760234\\">Hotel Fairmont The Norfolk</a>"],"photo_reference":"ATtYBwJn6H045ZJch-7iEmQhcchlr5sYJKg87f25tZM-2-e9-d6-BvH9i8X3kUxKB226teHhnlumEumSWfsJiTmea2dOMUSiz3opXNqLVyEUFNPLtf6W4IqkLYjN22pr5YB8J6-g8mXG5R4ON8SXdRhEe8pr-1xX0c9xtIL8nEqOzEk7_6Kp","width":3000}],"place_id":"ChIJy4gsBC0XLxgRYYmqBERDcfI","plus_code":{"compound_code":"PRC8+MG Nairobi, Kenya","global_code":"6GCRPRC8+MG"},"rating":4.6,"reference":"ChIJy4gsBC0XLxgRYYmqBERDcfI","scope":"GOOGLE","types":["lodging","restaurant","food","point_of_interest","establishment"],"user_ratings_total":2200,"vicinity":"Harry Thuku Rd"},{"business_status":"OPERATIONAL","geometry":{"location":{"lat":-1.2855716,"lng":36.8202294},"viewport":{"northeast":{"lat":-1.284167319708498,"lng":36.8218312802915},"southwest":{"lat":-1.286865280291502,"lng":36.8191333197085}}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/restaurant-71.png","name":"Sentrim Hotels and Lodges","opening_hours":{"open_now":true},"photos":[{"height":437,"html_attributions":["<a href=\\"https://maps.google.com/maps/contrib/118248990539042374846\\">Sentrim Hotels and Lodges</a>"],"photo_reference":"ATtYBwJCxh_nl9NNd0OjrdJYinJFrgY9EJ0eP8PQi-ZKZ2eedlf9sQzyyeXb_YxBluPZi9Br-I_VP73Bu1bjTn7IoaXmYbiJPQooV_5UgE9kpvgmxSduBsACrR96zPSIB7eDCoh5GJqm0mrxSLKOt2SRZZB4K0uOLx6Wa1Vy3oT6lxGUZgz2","width":660}],"place_id":"ChIJTcUF2dYQLxgRq2j27WKs7Mw","plus_code":{"compound_code":"PR7C+Q3 Nairobi, Kenya","global_code":"6GCRPR7C+Q3"},"price_level":2,"rating":4,"reference":"ChIJTcUF2dYQLxgRq2j27WKs7Mw","scope":"GOOGLE","types":["restaurant","bar","food","point_of_interest","establishment"],"user_ratings_total":1523,"vicinity":"Kenyatta Avenue"},{"business_status":"OPERATIONAL","geometry":{"location":{"lat":-1.2870297,"lng":36.8145232},"viewport":{"northeast":{"lat":-1.285835119708498,"lng":36.8157845802915},"southwest":{"lat":-1.288533080291502,"lng":36.8130866197085}}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png","name":"Nairobi Serena Hotel","opening_hours":{"open_now":true},"photos":[{"height":2670,"html_attributions":["<a href=\\"https://maps.google.com/maps/contrib/112246991135533820110\\">Nairobi Serena Hotel</a>"],"photo_reference":"ATtYBwKUq1DXi8bbuHhdIdXsoPQFCUWQXwb9hF3imgiEN1IInlkkn4ra2skQLMUzelTiFuuVlQFwCmPUwso89g4lnE7NpHsG-uNXUeoOy-OLOIcafu_-kHH9XcLdFrOfPyt2ELoq9iPSMJAz_6Yl9E6IxtMhv__dWJgTiKaLsxa8yfx3WDh2","width":4000}],"place_id":"ChIJnfDwxNYQLxgRsKQVsmtU6vw","plus_code":{"compound_code":"PR77+5R Nairobi, Kenya","global_code":"6GCRPR77+5R"},"rating":4.6,"reference":"ChIJnfDwxNYQLxgRsKQVsmtU6vw","scope":"GOOGLE","types":["lodging","restaurant","food","point_of_interest","establishment"],"user_ratings_total":2606,"vicinity":"Processional Way, Nairobi City"}]')},97:function(e,t,n){"use strict";n.r(t);var a,r,s=n(1),i=n(0),c=n.n(i),o=n(11),l=n.n(o),u=(n(32),n(4)),d=n(21),p=(n(61),n(17)),g=n.n(p),j=n(25),b=n(29),m=n(18),h=function(e){var t=e.panTo,n=Object(b.a)({requestOptions:{location:{lat:function(){return 43.6532},lng:function(){return-79.3832}},radius:1e5}}),a=n.ready,r=n.value,i=n.suggestions,c=i.status,o=i.data,l=n.setValue,u=n.clearSuggestions,d=function(){var e=Object(j.a)(g.a.mark((function e(n){var a,r,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(n,!1),u(),e.prev=2,e.next=5,Object(b.b)({address:n});case 5:return a=e.sent,e.next=8,Object(b.c)(a[0]);case 8:r=e.sent,s=r.lat,i=r.lng,t({lat:s,lng:i}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("\ud83d\ude31 Error: ",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"search",children:Object(s.jsxs)(m.a,{onSelect:d,children:[Object(s.jsx)(m.b,{value:r,onChange:function(e){l(e.target.value)},disabled:!a,placeholder:"Search your location"}),Object(s.jsx)(m.e,{children:Object(s.jsx)(m.c,{children:"OK"===c&&o.map((function(e){var t=e.description;return Object(s.jsx)(m.d,{value:t},t)}))})})]})})},f=n(116),O=n(118),x=n(119),y=n.p+"static/media/compass.6bde5180.svg",v=function(){return Object(s.jsx)("div",{children:Object(s.jsx)(f.a,{position:"static",children:Object(s.jsxs)(O.a,{children:[Object(s.jsx)(x.a,{color:"inherit",children:"Restaurants Review"}),Object(s.jsx)("img",{src:y,alt:"Current Location",height:"50",style:{float:"right",cursor:"pointer"},onClick:function(){return window.location.reload(!1)}})]})})})},w=n(120),_=n(50),R=n(121),T=n(122),C=Object(i.createContext)(),S=n(16),N=n.n(S),k=function(){var e=Object(i.useContext)(C),t=e.minRating,n=e.resetMinRating;return Object(s.jsxs)("div",{className:"filter-rating",children:[Object(s.jsx)("span",{className:"rating-text",children:"Filter by Rating"}),Object(s.jsx)(N.a,{rating:t,starRatedColor:"rgb(220,20,60)",starEmptyColor:"rgb(203, 211, 227)",changeRating:function(e){n(e)},numberOfStars:5,name:"rating",starDimension:"20px"})]})},L=n(14),I=n(123),E=n(27),P=n.n(E),J=function(){var e=Object(i.useContext)(C),t=e.restaurants,n=e.setAddRestFlag,a=e.setRestaurants,r=e.lat,c=e.lng,o=Object(i.useState)(""),l=Object(u.a)(o,2),d=l[0],p=l[1],g=Object(i.useState)(0),j=Object(u.a)(g,2),b=j[0],m=j[1],h=[];Object(i.useEffect)((function(){n(!0)}),[n]);return Object(s.jsxs)("div",{className:"addrest",children:[Object(s.jsx)("h2",{children:"Add Restaurant "}),Object(s.jsxs)("form",{onSubmit:function(e){return function(e,s,i){e.preventDefault(),h={name:s,lat:r,lng:c,place_id:P.a.generate(),rating:i,icon:"https://maps.google.com/mapfiles/kml/pal2/icon62.png"},a([].concat(Object(L.a)(t),[h])),n(!1)}(e,d,b)},children:[Object(s.jsx)("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)},placeholder:"name"}),Object(s.jsx)(I.a,{name:"simple-controlled",value:b,onChange:function(e,t){null!=t&&m(parseInt(t))}}),Object(s.jsx)("button",{children:"submit"})]})]})},K=n(31),A=n(48),Y=n.n(A),B=function(e){var t=e.photo,n=e.name,a=e.rating,r=e.text;return Object(s.jsxs)("div",{className:"popupClass card",children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:t,alt:"Reviewer",style:{height:"100px"}})}),Object(s.jsxs)("div",{className:"ReviewNameRating",children:[Object(s.jsx)("div",{children:Object(s.jsx)("h2",{children:n})}),Object(s.jsx)("div",{children:Object(s.jsx)("h3",{children:r})}),Object(s.jsxs)("div",{children:[" ",Object(s.jsx)(N.a,{rating:a,starRatedColor:"rgb(220,20,60)",starDimension:"20px"}),"                "]})]})]})},D=n.p+"static/media/restaurant.e5d8d4c0.svg",F=(n(96),function(e){var t=e.name,n=(e.imageSource,e.rating),a=e.placeid,r=Object(i.useState)([]),c=Object(u.a)(r,2),o=c[0],l=c[1],d=Object(i.useState)(""),p=Object(u.a)(d,2),b=p[0],m=p[1],h=Object(i.useState)(""),f=Object(u.a)(h,2),O=f[0],x=f[1],y=Object(i.useState)(0),v=Object(u.a)(y,2),w=v[0],_=v[1],R="".concat("AIzaSyCcChT6htxJs_6R4nMBDHuKtu7XRS4_ZDc"),T=[],C=function(){var e=Object(j.a)(g.a.mark((function e(t,n){var r,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==a){e.next=10;break}return r="https://maps.googleapis.com/maps/api/place/details/json?place_id=".concat(a,"&key=").concat(R),e.next=4,Y.a.get(r).catch((function(e){console.log("error",e)}));case 4:s=e.sent,(i=s)&&i.status,i&&null!=i.data.result.photos&&l(i.data.result.reviews),e.next=11;break;case 10:l([]);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("img",{src:D,alt:"restaurant ",className:"restaurant-image"}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h4",{className:"restaurant-title",children:t}),Object(s.jsx)(N.a,{rating:n,starRatedColor:"rgb(220,20,60)",starDimension:"20px"}),Object(s.jsx)("h2",{children:Object(s.jsx)(K.a,{trigger:Object(s.jsxs)("button",{className:"button",onClick:C,children:[" ","review"," "]}),modal:!0,nested:!0,children:function(e){return Object(s.jsxs)("div",{className:"reviewarea",children:[Object(s.jsxs)("div",{className:"header",children:[" ",t,Object(s.jsx)(K.a,{trigger:function(e){return Object(s.jsxs)("button",{className:"button",children:["Add Review - ",e?"Opened":"Closed"]})},position:"right center",children:Object(s.jsxs)("form",{style:{width:"auto"},onSubmit:function(e){return function(e,t,n,a,r,s){e.preventDefault(),""!==t&&""!==s&&0!==a&&(T={author_name:t,rating:parseInt(a),text:s,profile_photo_url:"http://maps.google.com/mapfiles/kml/pal2/icon62.png"},n(""),x(""),r(""),l([].concat(Object(L.a)(o),[T])))}(e,b,m,w,_,O)},children:["Name:",Object(s.jsx)("input",{type:"text",value:b,onChange:function(e){return m(e.target.value)}}),Object(s.jsx)("br",{}),"Comment:",Object(s.jsx)("input",{type:"text",value:O,onChange:function(e){return x(e.target.value)}}),Object(s.jsx)("br",{}),"Rating:",Object(s.jsx)(I.a,{name:"simple-controlled",size:"small",value:w,onChange:function(e,t){null!=t&&_(parseInt(t))}}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{children:"submit"})]})})]}),Object(s.jsx)("div",{children:o.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(B,{photo:e.profile_photo_url,name:e.author_name,rating:e.rating,text:e.text},e.placeid)})}))})]})}})})]})]})}),H=function(){var e=Object(i.useContext)(C),t=e.restaurants,n=e.minRating;return Object(s.jsx)("div",{className:"sidebar",children:t.map((function(e){return e.rating<n||!e.rating?null:Object(s.jsx)(F,{name:e.name,imageSource:e.photos,rating:e.rating,placeid:e.place_id},P.a.generate())}))})},Q=n(49),U=["places"],X={height:"70vh",width:"100vw"},G={styles:[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}],disableDefaultUI:!0,zoomControl:!0},M={lat:-1.2746752,lng:36.8214016},z=function(){var e=Object(d.d)({googleMapsApiKey:"AIzaSyCcChT6htxJs_6R4nMBDHuKtu7XRS4_ZDc",libraries:U}),t=e.isLoaded,n=e.loadError,o=Object(i.useState)({}),l=Object(u.a)(o,2),p=l[0],g=l[1],j=Object(i.useState)(1),b=Object(u.a)(j,2),m=b[0],f=b[1],O=c.a.useState({lat:0,lng:0}),S=Object(u.a)(O,2),N=S[0],L=S[1],I=Object(i.useState)([]),E=Object(u.a)(I,2),P=E[0],K=E[1],A=Object(i.useState)(!1),Y=Object(u.a)(A,2),B=Y[0],F=Y[1],z=Object(i.useState)([]),q=Object(u.a)(z,2),W=q[0],Z=q[1],V=Object(i.useState)(null),$=Object(u.a)(V,2),ee=$[0],te=$[1],ne=Object(i.useState)(),ae=Object(u.a)(ne,2),re=ae[0],se=ae[1],ie=Object(i.useState)(0),ce=Object(u.a)(ie,2),oe=ce[0],le=ce[1],ue=Object(i.useState)(0),de=Object(u.a)(ue,2),pe=de[0],ge=de[1],je=Object(i.useRef)(),be=Object(i.useCallback)((function(e){je.current=e}),[]),me=Object(i.useCallback)((function(e){var t=e.lat,n=e.lng;je.current.panTo({lat:t,lng:n}),je.current.setZoom(15);var s=je.current,i={location:{lat:t,lng:n},radius:"500",type:["restaurant"]};r=new window.google.maps.InfoWindow;(a=new window.google.maps.places.PlacesService(je.current)).nearbySearch(i,(function(e,t){t===window.google.maps.places.PlacesServiceStatus.OK&&(c(e),g(e))}));var c=function(e){e.forEach((function(e){var t=new window.google.maps.Marker({position:e.geometry.location,map:s,title:e.name});window.google.maps.event.addListener(t,"click",(function(){var n={placeId:e.place_id,fields:["name","formatted_address","geometry","rating","website","photos","reviews"]};a.getDetails(n,(function(e,n){o(e,t,n)}))}))}))},o=function(e,t,n){if(n===window.google.maps.places.PlacesServiceStatus.OK){var a=new window.google.maps.InfoWindow,s="None";e.rating&&(s=e.rating);var i={restaurant:D};try{e.photos[0]&&(i=e.photos[0].getUrl())}catch(c){i=D}a.setContent("<div><img src=".concat(i,' \n        style="width:100%;max-width:300px;height:300px;"/><br><strong> \n        ').concat(e.name," \n          </strong><br>\n          Rating:").concat(s," \u272e <br>         \n          </div>")),a.open(t.map,t),r.close(),r=a}else console.log("showDetails failed: "+n)}}),[]),he=function(e){var t=e.panTo;return c.a.useEffect((function(){navigator.geolocation.getCurrentPosition((function(e){L({lat:e.coords.latitude,lng:e.coords.longitude}),Z(Q);var n=N.lat,a=N.lng;t({lat:n,lng:a})}),(function(){return null}))}),[t]),Object(s.jsx)("div",{})},fe=Array.from(p);return n?"Error":t?Object(s.jsxs)("div",{children:[Object(s.jsx)(v,{}),Object(s.jsx)(h,{panTo:me}),Object(s.jsxs)(w.a,{container:!0,style:{padding:20},children:[Object(s.jsx)(w.a,{container:!0,item:!0,xs:4,className:"grid",children:Object(s.jsx)(w.a,{padding:5,children:Object(s.jsx)(_.a,{elevation:3,style:{padding:10},children:Object(s.jsx)(R.a,{children:Object(s.jsxs)(T.a,{children:[Object(s.jsxs)(C.Provider,{value:{error:re,setError:se,resetMinRating:function(e){f(e)},minRating:m,location:N,addRestFlag:P,setAddRestFlag:K,addReviewFlag:B,setAddReviewFlag:F,lat:oe,setlat:le,lng:pe,setLng:ge,restaurants:W,setRestaurants:Z},children:[Object(s.jsx)(H,{}),P&&Object(s.jsx)(J,{}),N&&Object(s.jsx)(k,{})]}),Object(s.jsx)(R.a,{children:fe&&fe.filter((function(e){return e.rating>=m})).map((function(e){return Object(s.jsx)(R.a,{variant:"outlined",children:Object(s.jsx)(T.a,{children:Object(s.jsxs)(x.a,{children:[Object(s.jsx)("img",{src:e.icon,alt:"icon"})," ",Object(s.jsx)("br",{}),e.name," ",Object(s.jsx)("br",{}),"Rating:",e.rating]},e.place_id)})})}))})]})})})})}),Object(s.jsx)(w.a,{container:!0,item:!0,xs:8,children:Object(s.jsxs)(d.a,{id:"map",mapContainerStyle:X,zoom:15,center:M,options:G,onLoad:be,onClick:function(e,t){K(!t);var n=e.latLng.lat(),a=e.latLng.lng();le(n),ge(a),console.log("You clicked on the coordinates => lng: "+a+" lat:"+n)},children:[W.map((function(e){return e.rating<m||!e.rating?null:Object(s.jsxs)("div",{children:[Object(s.jsx)(d.c,{position:{lat:oe,lng:pe},onClick:function(){te(e)},icon:{url:y,origin:new window.google.maps.Point(2,2),anchor:new window.google.maps.Point(15,15),scaledSize:new window.google.maps.Size(40,40)}},"".concat(oe,"-").concat(pe)),ee?Object(s.jsx)(d.b,{position:{lat:ee.lat,lng:ee.lng},onCloseClick:function(){te(null)},children:Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:D,alt:"placeholder"}),Object(s.jsxs)("span",{children:[Object(s.jsx)("h2",{children:ee.name}),"  ",ee.rating," Star Rating."]})]})}):null]})})),Object(s.jsx)(he,{panTo:me})]})})]})]}):"Loading..."},q=function(){return Object(s.jsx)("div",{children:Object(s.jsx)(z,{})})};l.a.render(Object(s.jsx)(q,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.0ab67af1.chunk.js.map